Ranggo - рејтинг на славни личности
===================================

Содржина:
---------

<ol>
<li><a href="#1-">Вовед</a></li>
<li><a href="#2-">Поставување на проектот</a></li>
<li><a href="#3-">Користење на проектот</a></li>
<li><a href="#4-frontend-angularjs">Развој на frontend со AngularJS</a></li>
<li><a href="#5-github-">Работа со GitHub репозиториумот</a></li>
</ol>

1. Вовед
--------

Ranggo е веб апликација која врши рејтинг на славни личности преку семантичко анализирање на статии објавени од влијателни медиуми на нивните портали и содржини објавени на социјалните мрежи. Софтверот ги агрегира и клучните настани кои ги засегаат славните личности и директно влијаат врз нивниот рејтинг. Корисничкиот интерфејс на апликацијата овозможува преглед и превземање на пресметаниот рејтинг, настаните и останатите агрегирани податоци за славните личности.

Веб апликацијата е изградена со Spring MVC рамката за развој и користи MongoDB за складирање податоци, AngularJS како рамка за развој на страната на клиентот, и d3.js за визуелизација.

2. Поставување на проектот
--------------------------

**Потребен софтвер:**

+ GitHub Desktop - алатки за работа со репозиториумот ([превземи](https://desktop.github.com/))
+ Eclipse for Java EE - IDE за проектот ([превземи](http://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/mars2))
+ Apache Tomcat 8 - серверот на кој работи веб апликацијата ([превземи](http://tomcat.apache.org/download-80.cgi))
+ MongoDB - склад на податоци ([превземи](https://www.mongodb.org/downloads))

**Инструкции:**

1. Клонирајте го овој репозиториум.
2. Во Eclipse IDE одберете `File > Import...`. Во листата `General` селектирајте `Existing Projects into Workspace`. Притиснете `Next >` и посочете ја локацијата на директориумот каде што го клониравте репозиториумот.
3. Во `Properties` на проектот селектирајте `Project Facets` од листата, и по тоа кликнете на табот `Runtimes`. Штиклирајте го checkbox-от за `Apache Tomcat v8.0`. Притиснете `Apply` и `Ok`.
   
   Доколку немате опција за `Apache Tomcat v8.0` во `Runtimes`, потребно е да се додаде `Tomcat` во листата на сервери на `Eclipse`. Ова може да се направи во `Window > Preferences`. Отворете ја подлистата на `Server` елементот во листата на левата страна и селектирајте `Runtime Environments`. Притиснете `Add...` и од листата Apache одберете `Apache Tomcat v8.0`. Притиснете `Next...` и посочете ја локацијата каде што е инсталиран `Apache Tomcat 8`.

4. (Незадолжително:) поддесете го веб модулот на `Tomcat` за проектот да се извршува во контекстот корен (наместо на `http://localhost/ranggo/` проектот да се извршува на `http://localhost/`). Со двоен клик на `Tomcat v8.0` серверот во `Servers` прозорецот (`Window > Show View > Servers`) се отвара приказ на серверот. Во табот `Modules` селектирајте го `Ranggo` и притиснете `Edit...` (доколку `Ranggo` не е на листата, најпрво стартувајте го проектот според упатството во следната секција). Полето `Path` треба да биде празно. Притиснете Ok.


3. Користење на проектот
------------------------

Проектот можете да го стартувате во `Project Explorer` со `Right Click > Run As > Run on Server`.

Доколку го стартувате проектот за прв пат, од листата на дијалог прозорецот одберете го серверот `Tomcat v8.0 Server`,  штиклирајте `Always use this server when running this project` и притиснете `Next >`. Додадете го `Ranggo` во листата `Configured` доколку веќе не е додаден и притиснете `Finish`.

### MongoDB

Пред стартување на проектот, MongoDB треба да работи на `host:port` комбинацијата зададена во `src/resources/spring/data-access.properties`.

MongoDB серверот се стартува со `mongod` командата (се наоѓа во `bin` директориумот на инсталацијата - нејзината локација може да се додаде во `PATH` променливата на работната околина). Командата се повикува со параметар за локацијата на податочниот склад - ова не е инсталациониот директориум, туку локацијата на која податоците се зачувуваат физички.

`mongod --dbpath D:\MongoDB`

MongoDB клиент се поврзува на серверот користејќи ја `mongo` командата:

`mongo`

Следните команди служат за создавање на базата на податоци и колекциите потребни за работа на веб апликацијата (ќе бидат надополнувани при развојот на проектот):

`use ranggo`

Официјално упатство за MongoDB: https://docs.mongodb.org

4. Развој на frontend со AngularJS
----------------------------------

Оваа секција претставува краток вовед во структурата и организацијата на AngularJS - Single Page Application проект и поврзувањето со серверот во конкретниот случај наменет за оние кои претходно не работеле со AngularJS.

Серверот враќа само една `.jsp` страна за апликацијата: `index.jsp`, која се наоѓа во `src/main/webapp/WEB-INF/views`. Сета преостаната комуникација се извршува со AJAX повици. Во оваа страна се вклучуваат сите потребни скрипти за AngularJS (самиот angular, рутер, контролери, директиви, итн.). При тоа, еден HTML елемент во страната претставува контејнер за останатите страни, т.е. погледи. Користејќи го рутерот, AngularJS овозможува прикажување на соодветниот поглед во самиот HTML елемент за тековниот URL на прелистувачот.

Сите ресурси на клиентската страна се во `src/main/webapp/app` освен `index.jsp` кој се наоѓа на претходно наведената локација. За посебните страни на апликацијата се создаваат погледи на локација `app/views`. Погледите се поврзуваат со URL-то на кое се однесуваат во `app/scripts/router.js`, а за секоја посебна страна се создава контролер во `app/scripts/controllers`. HTML содржината специфична за различните веб страни се внесува во соодветните погледи, додека заедничката содржина (заглавје, навигација, подножје) се внесува во `index.jsp`.

Водич за AngularJS: https://docs.angularjs.org/guide

5. Работа со GitHub репозиториумот
----------------------------------

GitHub е хостинг сервис за Git репозиториуми кој овозможува дистрибуирана контрола на промени. Секој соработник на репозиториумот може да прави промени на истиот. По појавувањето на промени во локалниот клониран репозиториум, GitHub Desktop алатката овозможува извршување `commit` - операција за зачувување на промените во нова верзија. За промените да се зачуваат во овој репозиториум и да бидат видливи за сите соработници, потребно е да се изврши `sync` на новиот `commit`.

При работењето со Git репозиториум, често се појавуваат конфликти - нееднаквости на документи во вашиот локален репозиториум со соодветните документи во овој репозиториум. Конфликти можат да се појават бидејќи друг соработник извршил `push` на сопствен `commit` по вашиот последен `sync`. За разрешување на конфликтите, потребно е најпрво да извршите `pull` (`sync` во GitHub Desktop алатката) за да се повлечат промените од овој репозиториум, а потоа да ги направите вашите промени и да извршите `commit` и `sync`. Ова се прави за да не се пребришуваат промените на другите соработници, но при тоа внимавајте при извршување `sync` да не ги изгубите вашите досегашни промени.

Забелешка: поради природата на проектот, конфликтите во `/target` директориумот можат да се игнорираат (можете да правите overwrite на содржината на тој директориум).

Упатство за работа со Git: http://rogerdudler.github.io/git-guide/