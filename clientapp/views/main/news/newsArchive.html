<div class="container-fluid lato-font">
    <div class="row customDiv" style="padding-left:2%;padding-right:2%;">
        <div class="col-xs-12" style="margin-top:-2%;">
            <div class="row">
                <div class="col-xs-12 col-md-3" style="background-color: white;">
                    <div class="col-xs-9">
                        <md-datepicker ng-model="myDate" md-placeholder="Choose date"></md-datepicker>
                    </div>
                    <div class="col-xs-3">
                        <md-button class="md-fab" style="width: 3.6rem;height: 3.6rem;line-height: 0.6rem;" ng-click="switchDate()">
                            <small>
                                <i class="glyphicon glyphicon-search"></i>
                            </small>
                        </md-button>
                    </div>
                </div>
                <div class="col-xs-12 col-md-1">
                    <button class="btn no-class-button" data-toggle="collapse" data-target="#settings">
                        <h4><i class="glyphicon glyphicon-cog"></i></h4>
                    </button>
                </div>
            </div>

            <div id="settings" class="collapse">
                <div class="row innerDiv" >
                    <div class="col-xs-12">
                        <h3 class="raleway-font">Select prefered sources</h3>
                    </div>
                    <div class="col-xs-12 col-md-3 innerDiv">
                        <div class="col-xs-12">
                            <md-checkbox ng-click="clickCheckbox($event, 'mk')" ng-class="selectedMacedonian == true ? 'md-checked' : ''">
                                Macedonian sources
                            </md-checkbox>
                        </div>
                        <div class="col-xs-12" ng-repeat="source in macedonianSources" style="padding-left:20%;">
                            <md-checkbox ng-click="check(source.name, 'mk')" ng-class="source.checked == true ? 'md-checked': ''" ng-disabled="selectedMacedonian">
                                {{source.name}}
                            </md-checkbox>
                        </div>
                    </div>

                    <div class="col-xs-12 col-md-3 innerDiv">
                        <div class="col-xs-12">
                            <md-checkbox ng-click="clickCheckbox($event, 'en')" ng-class="selectedEnglish == true ? 'md-checked' : ''">
                                English sources
                            </md-checkbox>
                        </div>
                        <div class="col-xs-12" ng-repeat="source in englishSources" style="padding-left:20%;">
                            <md-checkbox  ng-click="check(source.name, 'en')" ng-class="source.checked == true ? 'md-checked': ''" ng-disabled="selectedEnglish">
                                {{source.name}}
                            </md-checkbox>
                        </div>
                    </div>

                    <div class="col-xs-12 col-md-3">
                        <span>
                            <md-button class="md-fab" ng-click="savePreferences()">
                                <i class="glyphicon glyphicon-floppy-save"></i>
                            </md-button>
                            Save preferences
                        </span>


                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12">
            <div class="row" style="margin-top:1%;">
                <div class="col-xs-12 innerDiv">
                    <h2 class="raleway-font"><b>NEWS FOR {{thisDate}}</b></h2>
                </div>
            </div>
            <div class="row" ng-hide="news.length == 0">
                <div class="col-xs-12" ng-repeat="source in newsGroupedBySources">
                    <div class="row" style="margin-top:1%;margin-bottom:1%;">
                        <div class="col-xs-12 innerDiv">
                            <h3 class="raleway-font"><b>SOURCE: {{source.source}}</b></h3>
                        </div>
                    </div>
                    <div class="row myRow">
                        <div class="col-xs-12 col-md-3 newsDiv innerDiv" style="margin-bottom:1%" ng-repeat="story in source.contents">
                            <a href="">
                                <h4>{{story.title}}</h4>
                                <small>{{story.timestamp}}</small>
                                <small>...read more  <i class="glyphicon glyphicon-triangle-right"></i></small>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" ng-hide="news.length > 0">
                <div class="col-xs-12 errorDiv">
                    <h2>ERROR</h2>
                    <h4>We're sorry, but we haven't found any news for the day you have selected. Please adjust your search parameters and try again.</h4>
                </div>
            </div>


        </div>
    </div>
</div>